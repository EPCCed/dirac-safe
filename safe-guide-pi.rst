SAFE for Project Leaders
========================

Project Leaders can manage the resources and users associated with 
their projects through SAFE.

Getting Started
---------------

Your allocation has been set up as a project on the service. Your first steps.
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Here are some of the things you should consider doing; not all of them
will be needed for every project.

#. Change your own SAFE password
#. Set up an account on DiRAC systems for yourself
#. Make sure other project users get registered
#. Designate one or more users as managers of your project

How to get your own account on the service machine
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

If you are not going to work on DiRAC systems yourself, you do not need to
do this. You can administer your project through SAFE alone. But if you
want a DiRAC system account follow the procedure described in
:doc:`safe-guide-users`.

Viewing your allocated resources
--------------------------------

`Login to SAFE <https://safe.epcc.ed.ac.uk/dirac/>`__. Then:

#. From the Projects managed' menu select the project you want
   to see the resources for.
#. At the bottom of the page you will see a summary of the resources
   reamining for the selected project.

Managing Project Users
----------------------

How can project users get registered?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

You must not apply for machine accounts on behalf of other users, or let
others use accounts that belong to you. Account sharing is strictly
forbidden on DiRAC. Every user must register on
SAFE and then apply for their own machine account.

In order to get an account, a potential user needs to know your project
code. This is included in the email which SAFE sends to you, as PI, when
your project is set up.

Give ipotential users your project code and then ask them to register
on SAFE and request a DiRAC system account using the instructions at :doc:`safe-guide-users`.

When a user requests an account in your project then you will receive a 
mail from SAFE asking you to login to approve or reject this request.
To do this:

#. `Login to SAFE <https://safe.epcc.ed.ac.uk/dirac/>`__.
#. You should see the menu *Projects managed* is highlighted orange,
   then this indicates that there is a request for project membership.
   Now you have to accept (or reject) each user's request.
#. Go to the Menu *Projects managed* and select *project requests* for
   the appropriate project. You will see the details of the user who has applied.
#. Click the button next to the user
#. You will see the user's details, and at the bottom of the page
   buttons to accept or reject them

If you now accept the user, they will get an account. This is the last
chance to stop someone who should not be there! Take a few seconds to
check the user's details, especially their email address, to make sure
that they are who they say they are. Please check their nationality as
well: it's your responsibility to make sure this is right.

When you accept a user, the systems team is automatically requested to
create the account on the DiRAC system. When this has been done, the
user is emailed; allow a working day for this. The user can then login
to SAFE and`pick up their initial password.

How can I designate a user as a project manager?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

A project manager can do everything in a project that a PI can do,
except designate another project manager. You can designate as many
project managers as you wish.

#. Make sure the user has an account in your project.
#. `Login to SAFE <https://safe.epcc.ed.ac.uk/dirac/>`__.
#. Go to the Menu *Projects managed* and select the *project* you wish
   to appoint a project manager for. This will display a screen with a
   variety of options for managing the project.
#. Click *Project Group Administration*
#. Click *Add manager*
#. A drop down list will be displayed which contains all the users
   within the project. Select the user you wish to make a manager and
   click *Add*

Tracking your Project Usage
---------------------------

How to check the current state of your project's resources
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

`Login to SAFE <safe-guide-users.html#login>`__. Then:

#. Go to the Menu *Projects managed* and select the *project* you wish
   to work on.
#. Under *Project groups* you can see the current state of each project.
   If SAFE administers disk quotas on a system, you will alsosee these, together
   with how much of is in use.

If a project group's use of a quota is getting close to the maximum, it
is highlighted in pink.

The budget values displayed are updated every morning, and the values
shown for disk use are updated four times a day. For this reason, these
values may not all be completely up-to-date. If there is a lot of
activity in your project, the numbers shown could be significantly
different from the current ones.

How to track what my project's users and project groups are doing?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

This can be done using the Report Generator

#. `Login to SAFE <safe-guide-users.html#login>`__.
#. Go to the Menu *Service information* and select *Report generator*
#. Choose a report and its format: HTML, PDF or CSV (comma-separated valuesâ€”good
   for input to Excel, *etc.*)
#. Fill in the details required for the report.
#. Click *Generate Report*

